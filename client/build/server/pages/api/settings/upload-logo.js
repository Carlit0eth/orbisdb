"use strict";(()=>{var e={};e.id=630,e.ids=[630],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6705:e=>{e.exports=import("formidable")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},7591:(e,o,a)=>{a.a(e,async(e,r)=>{try{a.r(o),a.d(o,{config:()=>c,default:()=>p,routeModule:()=>d});var t=a(9762),n=a(6059),i=a(4718),l=a(4269),s=e([l]);l=(s.then?(await s)():s)[0];let p=(0,i.l)(l,"default"),c=(0,i.l)(l,"config"),d=new t.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/settings/upload-logo",pathname:"/api/settings/upload-logo",bundlePath:"",filename:""},userland:l});r()}catch(e){r(e)}})},4269:(e,o,a)=>{a.a(e,async(e,r)=>{try{a.r(o),a.d(o,{config:()=>c,default:()=>handler});var t=a(6705),n=a(7147),i=a.n(n),l=a(1017),s=a.n(l),p=e([t]);t=(p.then?(await p)():p)[0];let c={api:{bodyParser:!1}};async function handler(e,o){if("POST"===e.method)try{let a=new t.IncomingForm;a.uploadDir=s().join(process.cwd(),"client","public","uploads"),console.log("form.uploadDir:",a.uploadDir),a.keepExtensions=!0,a.parse(e,(e,r,t)=>{if(e){o.status(500).json({error:"There was an error processing your upload"});return}let n=t.file[0];console.log("file:",n),console.log("file.filepath:",n.filepath);let l=n.originalFilename,p=s().extname(l),c=s().basename(n.newFilename),d=c+p;console.log("filename:",d),console.log("fileExtension:",p);let u=s().join(a.uploadDir,d);console.log("_path:",u),i().renameSync(n.filepath,u),o.status(200).json({filePath:`/uploads/${d}`})})}catch(e){o.status(300).json({error:e})}}s().resolve(process.cwd(),"orbisdb-settings.json"),r()}catch(e){r(e)}})}};var o=require("../../../webpack-api-runtime.js");o.C(e);var __webpack_exec__=e=>o(o.s=e),a=o.X(0,[836],()=>__webpack_exec__(7591));module.exports=a})();